<?xml version="1.0" encoding="UTF-8"?>

<!--
 ! Licensed to the Apache Software Foundation (ASF) under one
 ! or more contributor license agreements.  See the NOTICE file
 ! distributed with this work for additional information
 ! regarding copyright ownership. The ASF licenses this file
 ! to you under the Apache License, Version 2.0 (the
 ! "License"); you may not use this file except in compliance
 ! with the License. You may obtain a copy of the License at
 ! 
 !      http://www.apache.org/licenses/LICENSE-2.0
 ! 
 ! Unless required by applicable law or agreed to in writing, software
 ! distributed under the License is distributed on an "AS IS" BASIS,
 ! WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 ! See the License for the specific language governing permissions and
 ! limitations under the License.
 !-->

<!-- Apache River Integration Tests -->

<!-- 
     This Ant scripts provides numerous tasks to run the integration tests 
     taken from the Jini Test harness.
-->

<project name="RiverIntegrationTests" default="all" basedir=".">

    <description>Builds and executes the River test harness</description>
    
    <import file="../build_common.xml"/>    
    
    <!-- set the properties -->    
    <property name="com.sun.jini.test.home" value="./qa/src"/>
    <property name="harness.build" value="${com.sun.jini.test.home}/build"/>    
    <property name="harness.lib" value="${com.sun.jini.test.home}/lib"/>    
    <property name="river.lib" value="../lib"/>
    
    <path id="river.classpath">
        <fileset dir="${river.lib}" includes="**/*.jar"/>
    </path>
              
    <target name="all" depends="clean.qa, build.qa"/>              
              
    <!-- clean old directories -->
    <target name="clean.qa">
        <delete dir="${harness.build}"/>
        <mkdir dir="${harness.build}"/>
        
        <delete dir="${harness.lib}"/>
        <mkdir dir="${harness.lib}"/>
    </target>
    
    <!-- build the required jars -->
    <target name="build.qa" depends="clean.qa">
        <javac srcdir="${com.sun.jini.test.home}"
               destdir="${harness.build}"
               source="1.4"
               classpathref="river.classpath"/>
               
        <jar destfile="${harness.lib}/jiniharness.jar">
            <fileset dir="${harness.build}"
                     includes="**/*.class"/>
            <fileset dir="${com.sun.jini.test.home}"
                     includes="**/*.class"/>                   
        </jar>
    </target>
    
    <!-- tasks to execute the test by category -->
    
    <!-- examples of tasks to execute specific-named tests -->
    
    
    
    
</project>
